<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset='utf-8'>
		<title> D3 Bar graph </title>
		<script type="text/javascript" src="d3/d3.js"></script>
		<style type="text/css">

		</style>
	</head>
	
	<body>
		<script type="text/javascript">
			dataset = []
			for (i = 0; i <= 25; i++) {
				var newNumber = Math.floor(Math.random() * 50);
				dataset.push(newNumber);
			}


			var w          = 500;
			var h          = 300;
			var barPadding = 1;

			var svg = d3.select('body')
						.append("svg")
						.attr('width', w)
						.attr('height', h);

			svg.selectAll('rect')				// specific term 'rect' needed to call rectangle, not 'rec'
				.data(dataset)
				.enter()
				.append('rect')
				.attr({ 
					x     : function(d, i) {return i * (w / dataset.length); },
						// if "return i * 21" that menas bar width of 20 (from above variable w) plus 1 for padding
						//scale the position so that it will fit the width of svg
					y     : function(d) {return h - (d * 4);},
					width : w / dataset.length - barPadding,
					height: function(d) {return d * 4},
					fill  : function(d) {return "rgb(" + d * 6 + ", 0, 0)";}
			});

			svg.selectAll('text')
				.data(dataset)
				.enter()
				.append('text')
				.text(function(d) {
					return d
				})
				// .attr('x', function(d, i) {
				// 	return i * (w / dataset.length);
				// })
				.attr("x", function(d, i) {
			        return i * (w / dataset.length) + (w / dataset.length - barPadding) / 2;
			    })
				.attr('y', function(d) {
					return h - d * 4 - 2;
				})
				.attr('fill', '#813eb4ff')
				.attr('font-family', 'papyrus')
				.attr('font-size', "11px")

				.attr('text-anchor', 'middle');



		</script>
	</body>
</html>










